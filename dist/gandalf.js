(function(){(function(t){return t.fn.extend({gandalf:function(n){var l,r,a,i;if(r={attribute:"validators",validators:{required:function(){return function(n,l){var r;return r=t.trim(n).length>0?null:"This field is required.",l(r)}},length:function(n){return null==n&&(n=1),function(l,r){var a;return a=t.trim(l).length>=n?null:"Must be at least "+n+" character"+(n>1?"s":"")+" long.",r(a)}},email:function(t){return null==t&&(t=/^\S+@\S+\.\S+$/),function(n,l){var r;return r=t.test(n)?null:"Invalid email.",l(r)}}}},n=t.extend(!0,{},r,n),null==n.callback||"function"!=typeof n.callback)throw"gandalf.js expects a callback";return a=[],l=0,i=0,this.each(function(){var l,r,a,u,e,o;for(r=(null!=(e=t(this).data(n.attribute))?e.split(" "):void 0)||[],o=[],a=0,u=r.length;u>a;a++)l=r[a],l&&o.push(i++);return o}),this.each(function(){var r,u,e,o,c,s,h,f,d,v,g,p,b,m,k;for(r=t(this),f=(null!=(b=r.data(n.attribute))?b.split(" "):void 0)||[],h=[],a.push({input:r,errors:[]}),d=0,g=f.length;g>d;d++)if(s=f[d]){if(e=s.match(/([\w\-\_]+)\[(.*)\]/),o=e[1],null==n.validators[o])throw"gandalf.js couldn't find any validators with name '"+o+"'";c=e[2].length&&(null!=(m=e[2])?m.split(","):void 0)||[],h.push(n.validators[o].apply(r,c))}if(0===h.length)return n.callback([]),this;for(k=[],v=0,p=h.length;p>v;v++)u=h[v],k.push(u(r.val(),function(t){return l++,t&&a[a.length-1].errors.push(t),l===i?n.callback(a):void 0}));return k})}})})(jQuery)}).call(this);