(function(){var f=jQuery;f.fn.extend({gandalf:function(g){var k,l,m,g=f.extend(!0,{},{attribute:"validators",validators:{required:function(){return function(a,c){var b;b=!(0<f.trim(a).length)?"This field is required.":null;return c(b)}},length:function(a){null==a&&(a=1);return function(c,b){var d;d=!(f.trim(c).length>=a)?"Must be at least "+a+" character"+(1<a?"s":"")+" long.":null;return b(d)}},email:function(a){null==a&&(a=/^\S+@\S+$/);return function(c,b){var d;d=a.test(c)?null:"Invalid email.";
return b(d)}},matches:function(a){return function(c,b){var d;d=c!==f(a).val()?"The passwords don't match.":null;return b(d)}}}},g);l=[];m=k=0;this.each(function(){var a,c,b,d,e;c=(null!=(a=f(this).data(g.attribute))?a.split(" "):void 0)||[];e=[];b=0;for(d=c.length;b<d;b++)(a=c[b])&&e.push(m++);return e});return this.each(function(){var a,c,b,d,e,h,i,j;a=f(this);c=(null!=(e=a.data(g.attribute))?e.split(" "):void 0)||[];e=[];h=0;for(j=c.length;h<j;h++)if(d=c[h])b=d.match(/([\w\-\_]+)\[(.*)\]/),d=b[1],
b=b[2].length&&(null!=(i=b[2])?i.split(","):void 0)||[],e.push(g.validators[d].apply(a,b));j=[];i=0;for(h=e.length;i<h;i++)c=e[i],j.push(c(a.val(),function(b){k++;l.push({input:a,error:b});if(k===m)return g.callback(l)}));return j})}})}).call(this);